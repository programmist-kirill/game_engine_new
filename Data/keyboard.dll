import keyboard
import os
import time

DIRECTORY_CACHE_KEYBOARD_WORD = "/home/kirill/game_engine_new/Cache/keyboard.word"
DIRECTORY_MOVING_PLAYER_DLL = "/home/kirill/game_engine_new/Data/Player/Moving_player.dll"

def main():
    while True:
        if keyboard.is_pressed('d'):    
            with open(DIRECTORY_CACHE_KEYBOARD_WORD, "w") as fp:
                fp.write("d")
            os.system(f"python {DIRECTORY_MOVING_PLAYER_DLL}")
            time.sleep(0.2)  # Задержка для предотвращения множественных срабатываний
            
        elif keyboard.is_pressed('a'):
            with open(DIRECTORY_CACHE_KEYBOARD_WORD, "w") as fp:
                fp.write("a")
            os.system(f"python {DIRECTORY_MOVING_PLAYER_DLL}")
            time.sleep(0.2)
            
        elif keyboard.is_pressed('w'):
            with open(DIRECTORY_CACHE_KEYBOARD_WORD, "w") as fp:
                fp.write("w")
            os.system(f"python {DIRECTORY_MOVING_PLAYER_DLL}")
            time.sleep(0.2)
            
        elif keyboard.is_pressed('q'):
            break
            
        time.sleep(0.01)

if __name__ == "__main__":
    main()